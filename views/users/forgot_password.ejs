<% layout('layouts/boilerplate')%>

    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../Forgot_pass.css">
    </head>

    <body>

        <body>
            <div class="center">
                <div class="alert alert-info" role="alert" style="display: none;" id="alert">
                    An email will be sent to you shortly containing a link to reset your password.
                </div>
                <h2>Enter your email below in order to receive an email containing a link to reset your password.</h2>
                <div class="txt_field">
                    <input type="text" name="email" placeholder="Email" id="emailInput">
                </div>
                <button type="button" id="submitButton" onclick="alert(); sendEmail(event)">Submit</button>
            </div>
            <script>
                function alert() {
                    document.getElementById("alert").style.display = "block";
                }

                function sendEmail(e) {
                    var emailInput = document.getElementById("emailInput");
                    var submitButton = document.getElementById('submitButton');
                    e.preventDefault();
                    var params = "email=" + emailInput.value;
                    const xhttp = new XMLHttpRequest();
                    xhttp.open('POST', '/user/forgotpassword', true);
                    xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

                    xhttp.onload = function() {
                        console.log(this.responseText);
                    }

                    xhttp.send(params);
                    document.getElementById("emailInput").value = "";
                }
            </script>
        </body>
    </body>